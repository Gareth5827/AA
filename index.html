<!DOCTYPE html>
<html>
<head>
    <title>And ACTION</title>
    <link rel="icon" href="AADC.ico" type="image/x-icon">
    <style>
        :root {
            --show-box-font-size: 18px; /* Adjustable font size for show box */
            --display-box-font-size: 20px; /* Adjustable font size for display box */
            --button-font-size: 20px; /* Adjustable font size for buttons */
            --padding: 20px;
            --button-width: 130px; /* Adjustable button width */
            --button-height: 80px; /* Adjustable button height */
            --button-spacing: 50px; /* Spacing between buttons */
            --host-box-font-size: 18px; /* Adjustable font size for host box */
            --host-display-box-font-size: 16px; /* Adjustable font size for host display box */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        #dynamicText {
            position: absolute;
            top: 0;
            left: 0;
            white-space: nowrap;
        }

        .centered {
            text-align: center;
            width: 100%;
            transition: all 0.5s ease;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .hidden {
            display: none;
        }
        
        #showBox, #displayBox, #hostBox, #hostDisplayBox, #tutorialMenu p {
            font-size: var(--display-box-font-size);
            padding: var(--padding);
            margin: 20px auto;
            max-width: calc(100% - 70px); /* Adjust based on padding to prevent text from touching the screen edges */
            box-sizing: border-box; /* Ensures padding is included in the width */
        }

        /* Toggle button styling */
        .toggle {
            margin: 20px 5px;
            cursor: pointer;
        }
        
        .MainMenuButton {
            display: block; /* Ensures each button is on a new line */
            font-size: var(--button-font-size);
            width: var(--button-width);
            height: var(--button-height);
            margin: var(--button-spacing) auto 0; /* Centers the button and applies vertical spacing */
            cursor: pointer;
            background-color: #f0f0f0; /* Example background color */
            border: 1px solid #ccc; /* Example border */
            border-radius: 4px; /* Rounded corners */
        }

        button {
            font-size: var(--button-font-size);
            width: var(--button-width);
            height: var(--button-height);
            margin: var(--button-spacing) 10px 0;
            cursor: pointer;
        }

        #tutorialMenu p {
        font-size: 20px; /* Larger font size for readability */
        padding: 0 20px; /* Adds padding on the sides */
        margin: 10px 0; /* Adds some space between paragraphs */
        max-width: calc(100% - 40px); /* Adjusts maximum width to prevent text from touching the edges */
        }

        #showBox {
            font-size: var(--show-box-font-size);
        }

        #displayBox {
            font-size: var(--display-box-font-size);
        }
    </style>
</head>
<body>

<div id="dynamicText"></div>

<!-- Main Menu, initially hidden -->
<div class="centered hidden" id="mainMenu">
    <button class="MainMenuButton" onclick="showMenu('player')">Player</button>
    <button class="MainMenuButton" onclick="showMenu('host')">Host</button>
    <button class="MainMenuButton" onclick="showMenu('tutorial')">Tutorial</button>
</div>

<!-- Player Menu -->
<div class="centered hidden" id="playerMenu">
    <button onclick="showMenu('main')">Back</button>
    <button onclick="rerollPlayer()">Reroll</button>
    <div id="showBox" style="font-size: var(--show-box-font-size);">You are playing as...</div>
    <div id="displayBox" style="font-size: var(--display-box-font-size);"></div>
    <div class="toggle">Speech: <input type="checkbox" id="SpeechToggle"></div>
    <div class="toggle">Attitude: <input type="checkbox" id="AttitudeToggle"></div>
    <div class="toggle">Personality: <input type="checkbox" id="PersonalityToggle"></div>
    <div class="toggle">Quest: <input type="checkbox" id="QuestToggle"></div>
</div>

<!-- Host Menu -->
<div class="centered hidden" id="hostMenu">
    <button onclick="showMenu('main')">Back</button>
    <button onclick="rerollHost()">Reroll</button>
    <div id="hostBox" style="font-size: var(--host-box-font-size);">Your scene is...</div>
    <div id="hostDisplayBox" style="font-size: var(--display-box-font-size);"></div>
    <div class="toggle">Weather: <input type="checkbox" id="WeatherToggle"></div>
    <div class="toggle">Location Modifier: <input type="checkbox" id="LocationModifierToggle"></div>
    <div class="toggle">Ender: <input type="checkbox" id="EnderToggle"></div>
    <div class="toggle">Situation: <input type="checkbox" id="SituationToggle"></div>
</div>

<!-- Tutorial Menu -->
<div class="centered hidden" id="tutorialMenu">
    <p>Hello and welcome to aaaaaaaaaaaaand ACTION! This will go over the multitude of complex rules only the most experienced actors should even consider trying to follow.</p>
    <p>If you're a player, click on the Player button on the main menu and select the modifiers you want. After everything is set, hit Reroll. Once you figure out who you are, you must pretend to be that thing for the scene. For example, if I am a Sarcastic angry baby with a stutter and my quest is to insult another player, I must pretend to be a sarcastic angry baby with a stutter, and insult another player before the scene ends.</p>
    <p>If you're a host, click on the Host button on the main menu and select the modifiers you want. After everything is set, hit Reroll. Once you figure out what the scene is, start the timer! For example, if my scene is a Community BBQ at a run down trailer park where it's hailing and the scene ends with someone dying, the players need to figure out how they're going to act out a community BBQ at a dumpy trailer park during a hailstorm, and have to end the scene with someone dying.</p>
    <p>Anyway that wraps up the extensive rule list for aaaaaaaaaaaaand ACTION! Thanks and have fun.</p>
    <button onclick="showMenu('main')">Back</button>
</div>

<script>
    let mainText = "aaaaaaaaaaaaaaaaaaaaand ACTION";
    let mainContainer = document.getElementById('dynamicText');
    let mainIndex = 0;

    function typeMainLetter() {
        if (mainIndex < mainText.length) {
            let span = document.createElement('span');
            span.innerText = mainText[mainIndex];
            span.style.fontSize = mainIndex < 22 ? (mainIndex + 1) + 'px' : '22px';
            mainContainer.appendChild(span);
            mainIndex++;
            setTimeout(typeMainLetter, 90);
        } else {
            document.getElementById('mainMenu').classList.remove('hidden');
        }
    }

    function showMenu(menuType) {
        const menus = ['mainMenu', 'playerMenu', 'hostMenu', 'tutorialMenu'];
        menus.forEach(menu => {
            document.getElementById(menu).classList.add('hidden');
        });
        document.getElementById(`${menuType}Menu`).classList.remove('hidden');
    }

    function rerollHost() {
        const places = ["Trailer park", "Coffee shop", "Castle", "Beach"];
        const situations = {
            "Trailer park": ["having a community BBQ", "with a new trailer"],
            "Coffee shop": ["that only has soy milk", "during rush hour"],
            "Castle": ["under siege", "hosting a royal ball"],
            "Beach": ["with a shark sighting", "with a volleyball tournament"]
        };
        const weathers = ["raining", "snowing", "hailing", "storming", "foggy"];
        const locationModifiers = ["Spooky", "Mythical", "Run down", "Ancient", "Brand new"];
        const enders = ["someone falling", "someone crying", "someone slapping someone else", "someone dying"];
    
        let selectedPlace = places[Math.floor(Math.random() * places.length)];
        let description = "";
    
        // Apply location modifier if toggle is on
        let placeModifier = "";
        if (document.getElementById('LocationModifierToggle').checked) {
            placeModifier = locationModifiers[Math.floor(Math.random() * locationModifiers.length)] + " ";
        }
    
        // Construct initial part of the description with location and modifier
        description = placeModifier + selectedPlace;
    
        // Apply situation if toggle is on
        if (document.getElementById('SituationToggle').checked) {
            let placeSituations = situations[selectedPlace] || [];
            let situation = placeSituations[Math.floor(Math.random() * placeSituations.length)];
            description += situation; // Ensure the situation is appended correctly
        }
    
        // Apply weather if toggle is on
        if (document.getElementById('WeatherToggle').checked) {
            description += " and it's " + weathers[Math.floor(Math.random() * weathers.length)] + "!";
        }
    
        // Apply ender if toggle is on
        if (document.getElementById('EnderToggle').checked) {
            description += " The scene will end by " + enders[Math.floor(Math.random() * enders.length)] + ".";
        }
    
        document.getElementById('hostDisplayBox').innerText = description;
    }

    function rerollPlayer() {
        const roles = ["Old man", "fake guru", "teenager", "baby", "banana sales man", "CEO", "clown", "magician"];
        const speechModifiers = ["with a lisp", "with a western accent", "with a stutter"];
        const attitudes = ["Sad", "Angry", "Scared", "Confused", "Calm"];
        const personalities = ["Quirky", "Sassy", "Sarcastic", "Stoic"];
        const quests = ["and your quest is to slowly go insane", "and your quest is to leave the scene early", "and your quest is to insult another player multiple times"];

        let selectedRole = roles[Math.floor(Math.random() * roles.length)];
        let description = "";

        // Check each toggle and append modifiers accordingly
        if (document.getElementById('SpeechToggle').checked) {
            description += " " + speechModifiers[Math.floor(Math.random() * speechModifiers.length)];
        }
        if (document.getElementById('AttitudeToggle').checked) {
            selectedRole = attitudes[Math.floor(Math.random() * attitudes.length)] + " " + selectedRole;
        }
        if (document.getElementById('PersonalityToggle').checked) {
            selectedRole = personalities[Math.floor(Math.random() * personalities.length)] + " " + selectedRole;
        }
        if (document.getElementById('QuestToggle').checked) {
            description += " " + quests[Math.floor(Math.random() * quests.length)];
        }

        document.getElementById('displayBox').innerText = selectedRole + description;
    }

    window.onload = function() {
        typeMainLetter();
    };
</script>

</body>
</html>
